# v0.6.1 å¿«é€Ÿå‚è€ƒæŒ‡å—

**ç‰ˆæœ¬**: v0.6.1  
**ä¸»é¢˜**: æ ‡å‡†åŒ–åè®®é›†æˆ - MCP & A2A  
**å‘å¸ƒæ—¥æœŸ**: 2026-01-24ï¼ˆé¢„è®¡ï¼‰

---

## ğŸ¯ ä¸€å¥è¯æ¦‚è¿°

v0.6.1 å®ç°äº† **MCP (Model Context Protocol)** å’Œ **A2A (Agent-to-Agent)** ä¸¤ä¸ªæ ‡å‡†åŒ–åè®®ï¼Œä½¿ LangChain-Go æˆä¸º Go ç”Ÿæ€é¦–ä¸ªæ”¯æŒä¸ Claude Desktop ç­‰å·¥å…·äº’æ“ä½œçš„ AI æ¡†æ¶ï¼Œå¹¶å®ç°è·¨ç³»ç»Ÿ Agent åä½œã€‚

---

## âœ¨ æ ¸å¿ƒäº®ç‚¹

### 1ï¸âƒ£ MCP åè®® - ä¸ Claude Desktop äº’æ“ä½œ

```go
// åˆ›å»º MCP Server
server := mcp.NewServer(mcp.ServerConfig{
    Name:    "langchain-go-server",
    Version: "0.6.1",
})

// æ³¨å†Œèµ„æº
server.RegisterResource(&mcp.Resource{
    URI:  "file:///docs",
    Name: "Documentation",
})

// æ³¨å†Œå·¥å…·ï¼ˆè‡ªåŠ¨æ¡¥æ¥ç°æœ‰å·¥å…·ï¼‰
server.RegisterTool(tools.NewCalculatorTool())

// å¯åŠ¨æœåŠ¡ï¼ˆClaude Desktop å¯è¿æ¥ï¼‰
transport := mcp.NewStdioTransport()
server.Serve(ctx, transport)
```

**åº”ç”¨åœºæ™¯**:
- âœ… å°† LangChain-Go èƒ½åŠ›æš´éœ²ç»™ Claude Desktop
- âœ… è®¿é—®æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“ã€å‘é‡å­˜å‚¨ç­‰èµ„æº
- âœ… æä¾›å·¥å…·ç»™ Claude ä½¿ç”¨
- âœ… ä¸å…¶ä»– MCP ç”Ÿæ€å·¥å…·äº’æ“ä½œ

---

### 2ï¸âƒ£ A2A åè®® - Agent é—´æ ‡å‡†åŒ–é€šä¿¡

```go
// æ³¨å†Œ Agent åˆ°åˆ†å¸ƒå¼æ³¨å†Œä¸­å¿ƒ
registry := a2a.NewConsulRegistry(consulConfig)
myAgent := a2a.NewA2AAgentBridge(existingAgent, bridgeConfig)
registry.Register(ctx, myAgent)

// åˆ›å»ºä»»åŠ¡å¹¶è·¯ç”±åˆ°æœ€åˆé€‚çš„ Agent
task := &a2a.Task{
    Type: a2a.TaskTypeAnalyze,
    Input: &a2a.TaskInput{
        Content: "åˆ†æè¿™ä¸ªæ•°æ®é›†",
    },
}

router := a2a.NewSmartTaskRouter(registry)
agent, _ := router.Route(ctx, task)
response, _ := agent.SendTask(ctx, task)
```

**åº”ç”¨åœºæ™¯**:
- âœ… åˆ†å¸ƒå¼ Multi-Agent ç³»ç»Ÿ
- âœ… è·¨å¹³å° Agent åä½œ
- âœ… Agent èƒ½åŠ›å‘ç°å’Œè·¯ç”±
- âœ… ä»»åŠ¡è‡ªåŠ¨åˆ†é…å’Œè´Ÿè½½å‡è¡¡

---

### 3ï¸âƒ£ åè®®æ¡¥æ¥ - MCP â†” A2A äº’æ“ä½œ

```go
// MCP å·¥å…·è°ƒç”¨è½¬ä¸º A2A ä»»åŠ¡
bridge := bridge.NewMCPToA2ABridge(mcpServer, a2aAgent)
task := bridge.ToolCallToTask(toolCall)
result := a2aAgent.SendTask(ctx, task)

// A2A Agent èƒ½åŠ›æš´éœ²ä¸º MCP èµ„æº
bridge := bridge.NewA2AToMCPBridge(a2aAgent, mcpClient)
resources := bridge.ExposeAsResources()
```

**åº”ç”¨åœºæ™¯**:
- âœ… ç»Ÿä¸€ä¸åŒåè®®çš„ AI ç³»ç»Ÿ
- âœ… æ‰“é€š Claude Desktop ä¸åˆ†å¸ƒå¼ Agent
- âœ… çµæ´»çš„åè®®è½¬æ¢

---

## ğŸ“¦ æ ¸å¿ƒç»„ä»¶

### MCP ç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ | ä½ç½® |
|------|------|------|
| MCPServer | MCP æœåŠ¡ç«¯ | `pkg/protocols/mcp/server.go` |
| MCPClient | MCP å®¢æˆ·ç«¯ | `pkg/protocols/mcp/client.go` |
| Transport | ä¼ è¾“å±‚ï¼ˆStdio/SSE/WSï¼‰ | `pkg/protocols/mcp/transport/` |
| ResourceProvider | èµ„æºæä¾›è€… | `pkg/protocols/mcp/providers/` |

### A2A ç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ | ä½ç½® |
|------|------|------|
| A2AAgent | A2A Agent æ¥å£ | `pkg/protocols/a2a/protocol.go` |
| AgentRegistry | Agent æ³¨å†Œä¸­å¿ƒ | `pkg/protocols/a2a/registry.go` |
| TaskRouter | ä»»åŠ¡è·¯ç”±å™¨ | `pkg/protocols/a2a/router.go` |
| CollaborationCoordinator | åä½œåè°ƒå™¨ | `pkg/protocols/a2a/coordinator.go` |

### æ¡¥æ¥ç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ | ä½ç½® |
|------|------|------|
| MCPToA2ABridge | MCP â†’ A2A æ¡¥æ¥ | `pkg/protocols/bridge/mcp_to_a2a.go` |
| A2AToMCPBridge | A2A â†’ MCP æ¡¥æ¥ | `pkg/protocols/bridge/a2a_to_mcp.go` |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
go get github.com/zhucl121/langchain-go@v0.6.1
```

### 1. åˆ›å»º MCP Serverï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# è¿è¡Œç¤ºä¾‹
cd examples/mcp_server_demo
go run main.go

# é…ç½® Claude Desktop
# ç¼–è¾‘ claude_desktop_config.json
{
  "mcpServers": {
    "langchain-go": {
      "command": "/path/to/mcp_server_demo",
      "args": []
    }
  }
}
```

### 2. A2A Agent åä½œï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# å¯åŠ¨ Consul
docker run -d -p 8500:8500 consul

# è¿è¡Œ Agent
cd examples/a2a_collaboration_demo
go run main.go
```

### 3. åè®®æ¡¥æ¥ï¼ˆ5 åˆ†é’Ÿï¼‰

```bash
# è¿è¡Œæ¡¥æ¥ç¤ºä¾‹
cd examples/protocol_bridge_demo
go run main.go
```

---

## ğŸ“š å…³é”®æ¦‚å¿µ

### MCP æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| **Resource** | å¯è¢« AI è®¿é—®çš„æ•°æ®æºï¼ˆæ–‡ä»¶ã€æ•°æ®åº“ã€å‘é‡å­˜å‚¨ç­‰ï¼‰ |
| **Tool** | AI å¯ä»¥è°ƒç”¨çš„åŠŸèƒ½ï¼ˆè®¡ç®—ã€æœç´¢ã€æ•°æ®å¤„ç†ç­‰ï¼‰ |
| **Prompt** | é¢„å®šä¹‰çš„ Prompt æ¨¡æ¿ |
| **Sampling** | è®© Server è°ƒç”¨ LLM ç”Ÿæˆå†…å®¹ |
| **Transport** | é€šä¿¡æ–¹å¼ï¼ˆStdio, SSE, WebSocketï¼‰ |

### A2A æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| **Agent** | å…·æœ‰ç‰¹å®šèƒ½åŠ›çš„æ™ºèƒ½ä½“ |
| **Task** | éœ€è¦ Agent å®Œæˆçš„ä»»åŠ¡ |
| **Capability** | Agent çš„èƒ½åŠ›æ ‡ç­¾ |
| **Registry** | Agent æ³¨å†Œå’Œå‘ç°ä¸­å¿ƒ |
| **Router** | ä»»åŠ¡è·¯ç”±å™¨ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„ Agent |
| **Coordinator** | åè°ƒå¤šä¸ª Agent åä½œå®Œæˆå¤æ‚ä»»åŠ¡ |

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: Claude Desktop é›†æˆ

**éœ€æ±‚**: å°†å…¬å¸å†…éƒ¨æ•°æ®æš´éœ²ç»™ Claude Desktop

```go
// 1. åˆ›å»º MCP Server
server := mcp.NewServer(mcp.ServerConfig{
    Name: "company-data-server",
})

// 2. æ³¨å†Œæ•°æ®åº“èµ„æº
dbProvider := providers.NewDatabaseProvider(db)
server.RegisterResource(&mcp.Resource{
    URI:  "db://customers",
    Name: "Customer Database",
}, dbProvider)

// 3. æ³¨å†Œå‘é‡å­˜å‚¨èµ„æº
vsProvider := providers.NewVectorStoreProvider(vectorStore)
server.RegisterResource(&mcp.Resource{
    URI:  "vector://docs",
    Name: "Company Documents",
}, vsProvider)

// 4. å¯åŠ¨æœåŠ¡
server.Serve(ctx, mcp.NewStdioTransport())
```

**æ•ˆæœ**: Claude Desktop å¯ä»¥æŸ¥è¯¢å®¢æˆ·æ•°æ®å’Œå…¬å¸æ–‡æ¡£

---

### åœºæ™¯ 2: åˆ†å¸ƒå¼ Agent ç³»ç»Ÿ

**éœ€æ±‚**: æ„å»ºåˆ†å¸ƒå¼çš„ä¸“å®¶ Agent ç³»ç»Ÿ

```go
// éƒ¨ç½²å¤šä¸ªä¸“å®¶ Agent
experts := []struct {
    name       string
    capability string
    agent      agents.Agent
}{
    {"researcher", "research", researchAgent},
    {"writer", "writing", writerAgent},
    {"analyst", "analysis", analystAgent},
}

// æ³¨å†Œåˆ° Consul
registry := a2a.NewConsulRegistry(consulConfig)
for _, expert := range experts {
    bridge := a2a.NewA2AAgentBridge(expert.agent, &a2a.BridgeConfig{
        Info: &a2a.AgentInfo{
            Name: expert.name,
        },
        Capabilities: &a2a.AgentCapabilities{
            Capabilities: []string{expert.capability},
        },
    })
    registry.Register(ctx, bridge)
}

// åˆ›å»ºåè°ƒå™¨
coordinator := a2a.NewCollaborationCoordinator(registry, router)

// æäº¤å¤æ‚ä»»åŠ¡
task := &a2a.Task{
    Type: a2a.TaskTypeComplex,
    Input: &a2a.TaskInput{
        Content: "ç ”ç©¶å¸‚åœºè¶‹åŠ¿ï¼Œåˆ†ææ•°æ®ï¼Œæ’°å†™æŠ¥å‘Š",
    },
}

// è‡ªåŠ¨åˆ†è§£ä»»åŠ¡å¹¶åè°ƒå¤š Agent å®Œæˆ
result, _ := coordinator.Coordinate(ctx, task)
```

**æ•ˆæœ**: ä»»åŠ¡è‡ªåŠ¨è·¯ç”±åˆ°åˆé€‚çš„ Agentï¼Œå¤š Agent åä½œå®Œæˆ

---

### åœºæ™¯ 3: è·¨å¹³å° Agent åä½œ

**éœ€æ±‚**: Python LangChain Agent å’Œ Go LangChain-Go Agent åä½œ

```go
// Go Agent æ³¨å†Œä¸º A2A Agent
goAgent := a2a.NewA2AAgentBridge(myGoAgent, bridgeConfig)
registry.Register(ctx, goAgent)

// Python Agent ä¹Ÿæ³¨å†Œåˆ°åŒä¸€æ³¨å†Œä¸­å¿ƒ
// ï¼ˆPython ç«¯å®ç° A2A åè®®ï¼‰

// è·¯ç”±å™¨è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„ Agentï¼ˆæ— è®ºè¯­è¨€ï¼‰
router := a2a.NewSmartTaskRouter(registry)
agent, _ := router.Route(ctx, task)
result, _ := agent.SendTask(ctx, task)
```

**æ•ˆæœ**: è·¨è¯­è¨€ Agent æ— ç¼åä½œ

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| MCP æ¶ˆæ¯å¤„ç† | < 5ms | JSON-RPC 2.0 é«˜æ•ˆåºåˆ—åŒ– |
| A2A ä»»åŠ¡è·¯ç”± | < 10ms | æ™ºèƒ½è¯„åˆ† + ç¼“å­˜ |
| åè®®æ¡¥æ¥å¼€é”€ | < 2ms | é›¶æ‹·è´è½¬æ¢ |
| Agent æ³¨å†Œå»¶è¿Ÿ | < 50ms | Consul å¿«é€Ÿæ³¨å†Œ |
| å¹¶å‘ Agent è°ƒç”¨ | 1000+ qps | Goroutine åŸç”Ÿå¹¶å‘ |

---

## ğŸ”— ä¸å…¶ä»–ç‰ˆæœ¬çš„å…³ç³»

```
v0.6.1 (MCP & A2A)
  â”‚
  â”œâ”€â–º é›†æˆ v0.6.0 (ä¼ä¸šå®‰å…¨)
  â”‚   â””â”€â–º RBAC æƒé™æ§åˆ¶ MCP/A2A è®¿é—®
  â”‚
  â”œâ”€â–º é›†æˆ v0.5.0 (åˆ†å¸ƒå¼)
  â”‚   â””â”€â–º è´Ÿè½½å‡è¡¡ã€æ³¨å†Œä¸­å¿ƒæ”¯æŒ A2A
  â”‚
  â””â”€â–º å¢å¼º v0.3.0 (Multi-Agent)
      â””â”€â–º Agent ç³»ç»Ÿé€šè¿‡ A2A äº’é€š
```

---

## ğŸ“– æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | å†…å®¹ | é€‚åˆ |
|------|------|------|
| [ç”¨æˆ·æŒ‡å—](./V0.6.1_USER_GUIDE.md) | è¯¦ç»†ä½¿ç”¨è¯´æ˜ | æ‰€æœ‰ç”¨æˆ· |
| [MCP è§„èŒƒ](./V0.6.1_MCP_SPEC.md) | MCP åè®®å®Œæ•´è§„èŒƒ | æ·±åº¦ç”¨æˆ· |
| [A2A è§„èŒƒ](./V0.6.1_A2A_SPEC.md) | A2A åè®®å®Œæ•´è§„èŒƒ | æ·±åº¦ç”¨æˆ· |
| [é›†æˆæŒ‡å—](./V0.6.1_INTEGRATION_GUIDE.md) | ä¸å…¶ä»–å·¥å…·é›†æˆ | æ¶æ„å¸ˆ |
| [å‘å¸ƒè¯´æ˜](./releases/RELEASE_NOTES_v0.6.1.md) | å®Œæ•´å‘å¸ƒè¯´æ˜ | æ‰€æœ‰ç”¨æˆ· |

---

## ğŸ’¡ æœ€ä½³å®è·µ

### MCP æœ€ä½³å®è·µ

1. âœ… **èµ„æºå®‰å…¨**: ä½¿ç”¨ RBAC æ§åˆ¶ MCP èµ„æºè®¿é—®æƒé™
2. âœ… **èµ„æºåˆ†ç±»**: æŒ‰ç±»å‹ç»„ç»‡èµ„æºï¼ˆfile://, db://, vector://ï¼‰
3. âœ… **å·¥å…·å¤ç”¨**: å¤ç”¨ç°æœ‰å·¥å…·ï¼Œæ— éœ€é‡å¤å¼€å‘
4. âœ… **é”™è¯¯å¤„ç†**: è¿”å›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ç»™å®¢æˆ·ç«¯
5. âœ… **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨èµ„æºè®¢é˜…è€Œéè½®è¯¢

### A2A æœ€ä½³å®è·µ

1. âœ… **èƒ½åŠ›æ˜ç¡®**: å‡†ç¡®å®šä¹‰ Agent èƒ½åŠ›æ ‡ç­¾
2. âœ… **å¥åº·ç›‘æ§**: å®šæœŸ Heartbeat ä¿æŒæ³¨å†ŒçŠ¶æ€
3. âœ… **ä»»åŠ¡åˆ†è§£**: å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡
4. âœ… **è¶…æ—¶æ§åˆ¶**: è®¾ç½®åˆç†çš„ä»»åŠ¡è¶…æ—¶
5. âœ… **æ•…éšœå®¹é”™**: ä½¿ç”¨ v0.5.0 æ•…éšœè½¬ç§»æœºåˆ¶

---

## ğŸ¯ é€‰æ‹©å»ºè®®

### ä½•æ—¶ä½¿ç”¨ MCPï¼Ÿ

- âœ… éœ€è¦ä¸ Claude Desktop ç­‰å·¥å…·é›†æˆ
- âœ… æš´éœ²æ•°æ®å’Œå·¥å…·ç»™å¤–éƒ¨ AI ä½¿ç”¨
- âœ… éœ€è¦æ ‡å‡†åŒ–çš„èµ„æºè®¿é—®åè®®
- âœ… å•æœºæˆ–ç®€å•åœºæ™¯

### ä½•æ—¶ä½¿ç”¨ A2Aï¼Ÿ

- âœ… æ„å»ºåˆ†å¸ƒå¼ Agent ç³»ç»Ÿ
- âœ… éœ€è¦è·¨ç³»ç»Ÿ Agent åä½œ
- âœ… Agent èƒ½åŠ›å‘ç°å’Œè·¯ç”±
- âœ… å¤æ‚ä»»åŠ¡éœ€è¦å¤š Agent åä½œ

### ä½•æ—¶ä½¿ç”¨åè®®æ¡¥æ¥ï¼Ÿ

- âœ… åŒæ—¶æ”¯æŒ MCP å’Œ A2A
- âœ… ç»Ÿä¸€ä¸åŒåè®®çš„ç³»ç»Ÿ
- âœ… çµæ´»çš„åè®®è½¬æ¢éœ€æ±‚

---

## ğŸ†š å¯¹æ¯”

| ç‰¹æ€§ | MCP | A2A |
|------|-----|-----|
| **ç›®æ ‡** | å·¥å…· â†” AI äº’æ“ä½œ | Agent â†” Agent åä½œ |
| **åè®®** | JSON-RPC 2.0 | gRPC |
| **ä¼ è¾“** | Stdio/SSE/WebSocket | gRPC/HTTP |
| **æ³¨å†Œ** | é™æ€é…ç½® | åŠ¨æ€æ³¨å†Œä¸­å¿ƒ |
| **å‘ç°** | ä¸æ”¯æŒ | èƒ½åŠ›åŒ¹é… |
| **è·¯ç”±** | ä¸æ”¯æŒ | æ™ºèƒ½è·¯ç”± |
| **åä½œ** | ä¸æ”¯æŒ | ä»»åŠ¡åˆ†è§£/èšåˆ |
| **é€‚åˆåœºæ™¯** | å•æœºã€ç®€å•é›†æˆ | åˆ†å¸ƒå¼ã€å¤æ‚åä½œ |

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **å¿«é€Ÿä½“éªŒ**: è¿è¡Œ 7 ä¸ªç¤ºä¾‹ç¨‹åº
2. **æ·±å…¥å­¦ä¹ **: é˜…è¯»ç”¨æˆ·æŒ‡å—å’Œè§„èŒƒæ–‡æ¡£
3. **å®é™…åº”ç”¨**: é›†æˆåˆ°ä½ çš„é¡¹ç›®
4. **ç¤¾åŒºäº¤æµ**: æäº¤ Issue å’Œ PR

---

## ğŸ“ è·å–å¸®åŠ©

- ğŸ“– [å®Œæ•´æ–‡æ¡£](./V0.6.1_USER_GUIDE.md)
- ğŸ’¬ [GitHub Issues](https://github.com/zhucl121/langchain-go/issues)
- ğŸŒ [GitHub Discussions](https://github.com/zhucl121/langchain-go/discussions)
- ğŸ“§ è”ç³»æˆ‘ä»¬

---

**v0.6.1 - è®© AI ç³»ç»Ÿæ ‡å‡†åŒ–äº’æ“ä½œæˆä¸ºç°å®ï¼** ğŸ¯

**åˆ›å»ºæ—¥æœŸ**: 2026-01-22  
**æœ€åæ›´æ–°**: 2026-01-22
