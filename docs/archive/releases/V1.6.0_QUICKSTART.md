# ğŸš€ LangChain-Go v1.6.0 å¿«é€Ÿå¼€å§‹æŒ‡å—

æ¬¢è¿ä½¿ç”¨ LangChain-Go v1.6.0ï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿäº†è§£å’Œä½¿ç”¨æ–°åŠŸèƒ½ã€‚

---

## ğŸ“¦ å®‰è£…

```bash
go get github.com/your-org/langchain-go@v1.6.0
```

---

## ğŸ¯ v1.6.0 æ–°åŠŸèƒ½æ¦‚è§ˆ

### 1. Self-Ask Agent - é€’å½’é—®é¢˜åˆ†è§£

**é€‚ç”¨åœºæ™¯**: éœ€è¦å¤šæ­¥æ¨ç†çš„å¤æ‚é—®é¢˜

**ç¤ºä¾‹é—®é¢˜**:
- "è°æ˜¯ç¾å›½æ€»ç»Ÿçš„æ¯äº²çš„æ•…ä¹¡ï¼Ÿ"
- "åŸƒè²å°”é“å¡”æ‰€åœ¨åŸå¸‚æ˜¯ä»€ä¹ˆæ—¶å€™å»ºç«‹çš„ï¼Ÿ"

**5 åˆ†é’Ÿä¸Šæ‰‹**:

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/agents"
    "github.com/zhuchenglong/langchain-go/core/chat/providers"
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    // 1. åˆ›å»º LLM
    llm := providers.NewOpenAI(providers.OpenAIConfig{
        APIKey: os.Getenv("OPENAI_API_KEY"),
        Model:  "gpt-4",
    })
    
    // 2. åˆ›å»ºæœç´¢å·¥å…·
    searchTool := tools.NewWikipediaSearch(nil)
    
    // 3. åˆ›å»º Self-Ask Agent
    agent := agents.CreateSelfAskAgent(
        llm,
        searchTool,
        agents.WithSelfAskMaxSubQuestions(5),
        agents.WithSelfAskVerbose(true),
    )
    
    // 4. åˆ›å»ºæ‰§è¡Œå™¨
    executor := agents.NewSimplifiedAgentExecutor(
        agent,
        []tools.Tool{searchTool},
    )
    
    // 5. è¿è¡Œ
    ctx := context.Background()
    result, err := executor.Run(ctx, 
        "Who is the spouse of the person who directed Inception?")
    
    if err != nil {
        panic(err)
    }
    
    fmt.Printf("Answer: %s\n", result.Output)
    fmt.Printf("Steps taken: %d\n", result.TotalSteps)
}
```

**è¿è¡Œç»“æœ**:
```
Step 1: Who directed Inception?
  â†’ Christopher Nolan

Step 2: Who is Christopher Nolan's spouse?
  â†’ Emma Thomas

Answer: Emma Thomas
Steps taken: 2
```

---

### 2. Structured Chat Agent - ç»“æ„åŒ–å¯¹è¯

**é€‚ç”¨åœºæ™¯**: å®¢æœæœºå™¨äººã€å¤šè½®å¯¹è¯ç³»ç»Ÿ

**æ ¸å¿ƒç‰¹æ€§**:
- å¯¹è¯è®°å¿†ç®¡ç†
- å¤šç§è¾“å‡ºæ ¼å¼ (plain, JSON, Markdown)
- å·¥å…·è°ƒç”¨èƒ½åŠ›

**5 åˆ†é’Ÿä¸Šæ‰‹**:

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/agents"
    "github.com/zhuchenglong/langchain-go/core/chat/providers"
    "github.com/zhuchenglong/langchain-go/core/memory"
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    // 1. åˆ›å»º LLM
    llm := providers.NewOpenAI(providers.OpenAIConfig{
        APIKey: os.Getenv("OPENAI_API_KEY"),
        Model:  "gpt-4",
    })
    
    // 2. åˆ›å»ºå¯¹è¯è®°å¿†
    mem := memory.NewBufferMemory(10)
    
    // 3. åˆ›å»ºå·¥å…·
    toolsList := []tools.Tool{
        tools.NewCalculatorTool(),
        tools.NewWikipediaSearch(nil),
    }
    
    // 4. åˆ›å»º Structured Chat Agent
    agent := agents.CreateStructuredChatAgent(
        llm,
        toolsList,
        agents.WithStructuredChatMemory(mem),
        agents.WithStructuredChatOutputFormat("plain"),
        agents.WithStructuredChatConversationID("user-123"),
    )
    
    // 5. åˆ›å»ºæ‰§è¡Œå™¨
    executor := agents.NewSimplifiedAgentExecutor(agent, toolsList)
    ctx := context.Background()
    
    // 6. å¤šè½®å¯¹è¯
    result1, _ := executor.Run(ctx, "What's 25 * 17?")
    fmt.Printf("User: What's 25 * 17?\n")
    fmt.Printf("Agent: %s\n\n", result1.Output)
    
    result2, _ := executor.Run(ctx, "Add 100 to that result")
    fmt.Printf("User: Add 100 to that result\n")
    fmt.Printf("Agent: %s\n\n", result2.Output)
    
    result3, _ := executor.Run(ctx, "What did we calculate earlier?")
    fmt.Printf("User: What did we calculate earlier?\n")
    fmt.Printf("Agent: %s\n", result3.Output)
}
```

**è¿è¡Œç»“æœ**:
```
User: What's 25 * 17?
Agent: The result is 425.

User: Add 100 to that result
Agent: 425 + 100 = 525.

User: What did we calculate earlier?
Agent: We first calculated 25 * 17 = 425, then added 100 to get 525.
```

---

### 3. Tavily AI Search - é«˜çº§æœç´¢

**é€‚ç”¨åœºæ™¯**: éœ€è¦é«˜è´¨é‡ã€AI ä¼˜åŒ–çš„æœç´¢ç»“æœ

**æ ¸å¿ƒç‰¹æ€§**:
- AI ä¼˜åŒ–ç»“æœ
- åŒ…å«ç›´æ¥ç­”æ¡ˆ
- ç›¸å…³æ€§è¯„åˆ†

**5 åˆ†é’Ÿä¸Šæ‰‹**:

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    // 1. è·å– API Key (åœ¨ https://tavily.com æ³¨å†Œ)
    apiKey := os.Getenv("TAVILY_API_KEY")
    
    // 2. åˆ›å»º Tavily æœç´¢å·¥å…·
    tool := tools.NewTavilySearch(apiKey, &tools.TavilySearchConfig{
        MaxResults:    5,
        SearchDepth:   "advanced", // "basic" æˆ– "advanced"
        IncludeAnswer: true,
    })
    
    // 3. æ‰§è¡Œæœç´¢
    ctx := context.Background()
    result, err := tool.Execute(ctx, map[string]any{
        "query": "Latest developments in artificial intelligence 2026",
    })
    
    if err != nil {
        panic(err)
    }
    
    fmt.Println(result)
}
```

**åœ¨ Agent ä¸­ä½¿ç”¨**:

```go
// åˆ›å»º Agent æ—¶æ·»åŠ  Tavily å·¥å…·
tavilyTool := tools.NewTavilySearch(apiKey, nil)
agent := agents.CreateReActAgent(llm, []tools.Tool{tavilyTool})
```

---

### 4. Google Custom Search - Google æœç´¢

**é€‚ç”¨åœºæ™¯**: éœ€è¦ Google çº§åˆ«çš„æœç´¢è´¨é‡

**å‡†å¤‡å·¥ä½œ**:
1. åœ¨ [Google Cloud Console](https://console.cloud.google.com/) åˆ›å»ºé¡¹ç›®
2. å¯ç”¨ Custom Search API
3. åœ¨ [Custom Search](https://cse.google.com/cse/) åˆ›å»ºæœç´¢å¼•æ“

**5 åˆ†é’Ÿä¸Šæ‰‹**:

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    // 1. è·å– API Key å’Œ Engine ID
    apiKey := os.Getenv("GOOGLE_API_KEY")
    engineID := os.Getenv("GOOGLE_ENGINE_ID")
    
    // 2. åˆ›å»º Google æœç´¢å·¥å…·
    tool := tools.NewGoogleSearch(apiKey, engineID, &tools.GoogleSearchConfig{
        MaxResults: 5,
        Language:   "en",
        SafeSearch: "medium",
    })
    
    // 3. æ‰§è¡Œæœç´¢
    ctx := context.Background()
    result, err := tool.Execute(ctx, map[string]any{
        "query": "Go programming best practices",
    })
    
    if err != nil {
        panic(err)
    }
    
    fmt.Println(result)
}
```

---

### 5. Prompt Hub - Prompt è¿œç¨‹ç®¡ç†

**é€‚ç”¨åœºæ™¯**: å›¢é˜Ÿåä½œã€Prompt ç‰ˆæœ¬ç®¡ç†

**æ ¸å¿ƒç‰¹æ€§**:
- è¿œç¨‹æ‹‰å– Prompt
- ç‰ˆæœ¬ç®¡ç†
- æœ¬åœ°ç¼“å­˜

**5 åˆ†é’Ÿä¸Šæ‰‹**:

```go
package main

import (
    "context"
    "fmt"
    
    "github.com/zhuchenglong/langchain-go/core/prompts"
)

func main() {
    ctx := context.Background()
    
    // æ–¹æ³• 1: ä½¿ç”¨ä¾¿æ·å‡½æ•°
    prompt, err := prompts.PullPrompt("hwchase17/react")
    if err != nil {
        panic(err)
    }
    
    // ä½¿ç”¨ prompt
    result, _ := prompt.Format(map[string]any{
        "input": "What is the capital of France?",
        "tools": "calculator, search",
        "tool_names": "calculator, search",
        "history": "",
    })
    
    fmt.Println(result)
    
    // æ–¹æ³• 2: åˆ›å»ºè‡ªå®šä¹‰ Hub
    hub := prompts.NewPromptHub(&prompts.PromptHubConfig{
        CacheEnabled: true,
        CacheTTL:     24 * 60 * 60, // 24 hours
    })
    
    // æ‹‰å–ç‰¹å®šç‰ˆæœ¬
    prompt2, _ := hub.PullPromptVersion(ctx, "hwchase17/react", "v1.0")
    _ = prompt2
    
    // åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
    versions, _ := hub.ListVersions(ctx, "hwchase17/react")
    fmt.Printf("Available versions: %d\n", len(versions))
    
    // æœç´¢ prompts
    results, _ := hub.SearchPrompts(ctx, "react agent")
    fmt.Printf("Found %d prompts\n", len(results))
}
```

**è‡ªåŠ¨ç”Ÿæˆ Prompt**:

```go
// æ ¹æ®ä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆ prompt
task := "Classify movie reviews as positive, negative, or neutral"
examples := []string{
    "Input: Amazing movie! Output: positive",
    "Input: Terrible film. Output: negative",
}

prompt, err := prompts.GeneratePrompt(task, examples)
```

---

## ğŸ”¥ å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ™ºèƒ½å®¢æœæœºå™¨äºº

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/agents"
    "github.com/zhuchenglong/langchain-go/core/chat/providers"
    "github.com/zhuchenglong/langchain-go/core/memory"
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    // åˆ›å»º LLM
    llm := providers.NewOpenAI(providers.OpenAIConfig{
        APIKey: os.Getenv("OPENAI_API_KEY"),
        Model:  "gpt-4",
    })
    
    // åˆ›å»ºå·¥å…·
    tools := []tools.Tool{
        tools.NewWikipediaSearch(nil),
        tools.NewCurrentTimeTool(),
    }
    
    // åˆ›å»ºå¯¹è¯è®°å¿†
    mem := memory.NewBufferMemory(20)
    
    // åˆ›å»ºå®¢æœ Agent
    agent := agents.CreateStructuredChatAgent(
        llm,
        tools,
        agents.WithStructuredChatMemory(mem),
        agents.WithStructuredChatSystemPrompt(
            "You are a helpful customer service agent. Be polite and professional.",
        ),
    )
    
    executor := agents.NewSimplifiedAgentExecutor(agent, tools)
    ctx := context.Background()
    
    // æ¨¡æ‹Ÿå®¢æœå¯¹è¯
    conversations := []string{
        "Hello! I need help with my order.",
        "What's your refund policy?",
        "When is the expected delivery time?",
        "Thank you for your help!",
    }
    
    for _, msg := range conversations {
        fmt.Printf("Customer: %s\n", msg)
        result, _ := executor.Run(ctx, msg)
        fmt.Printf("Agent: %s\n\n", result.Output)
    }
}
```

### ç¤ºä¾‹ 2: æ™ºèƒ½æœç´¢åŠ©æ‰‹

```go
package main

import (
    "context"
    "fmt"
    "os"
    
    "github.com/zhuchenglong/langchain-go/core/agents"
    "github.com/zhuchenglong/langchain-go/core/chat/providers"
    "github.com/zhuchenglong/langchain-go/core/tools"
)

func main() {
    llm := providers.NewOpenAI(providers.OpenAIConfig{
        APIKey: os.Getenv("OPENAI_API_KEY"),
        Model:  "gpt-4",
    })
    
    // ç»„åˆå¤šä¸ªæœç´¢å·¥å…·
    searchTools := []tools.Tool{
        tools.NewWikipediaSearch(nil),      // ç™¾ç§‘çŸ¥è¯†
        tools.NewArxivSearch(nil),           // å­¦æœ¯è®ºæ–‡
    }
    
    // å¦‚æœæœ‰ API keyï¼Œæ·»åŠ é«˜çº§æœç´¢
    if apiKey := os.Getenv("TAVILY_API_KEY"); apiKey != "" {
        searchTools = append(searchTools, 
            tools.NewTavilySearch(apiKey, nil))
    }
    
    // åˆ›å»ºæœç´¢ Agent
    agent := agents.CreateReActAgent(llm, searchTools)
    executor := agents.NewSimplifiedAgentExecutor(agent, searchTools)
    
    ctx := context.Background()
    result, _ := executor.Run(ctx, 
        "What are the latest breakthroughs in quantum computing?")
    
    fmt.Println(result.Output)
}
```

---

## ğŸ“– æ›´å¤šèµ„æº

### å®Œæ•´ç¤ºä¾‹
- `examples/selfask_agent_demo.go` - Self-Ask Agent
- `examples/structured_chat_demo.go` - Structured Chat
- `examples/advanced_search_demo.go` - é«˜çº§æœç´¢
- `examples/prompt_hub_demo.go` - Prompt Hub

### æ–‡æ¡£
- [å®Œæ•´æ–‡æ¡£](./docs/)
- [API å‚è€ƒ](./docs/api/)
- [å¿«é€Ÿå¼€å§‹](./docs/getting-started/)

### å‘å¸ƒè¯´æ˜
- [v1.6.0 å‘å¸ƒè¯´æ˜](./V1.6.0_RELEASE_NOTES.md)
- [v1.6.0 å®Œæˆæ€»ç»“](./V1.6.0_COMPLETION_SUMMARY.md)

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„ Agent ç±»å‹

| Agent ç±»å‹ | é€‚ç”¨åœºæ™¯ |
|-----------|---------|
| ReAct | é€šç”¨ä»»åŠ¡ï¼Œéœ€è¦æ¨ç†å’Œå·¥å…·è°ƒç”¨ |
| ToolCalling | OpenAI æ¨¡å‹ï¼ŒåŸç”Ÿå·¥å…·è°ƒç”¨ |
| Conversational | ç®€å•å¯¹è¯ï¼Œæ— å·¥å…·è°ƒç”¨ |
| PlanExecute | å¤æ‚ä»»åŠ¡ï¼Œéœ€è¦è§„åˆ’ |
| OpenAI Functions | OpenAI ä¼˜åŒ–çš„å‡½æ•°è°ƒç”¨ |
| **Self-Ask** | **å¤šæ­¥æ¨ç†çš„å¤æ‚é—®é¢˜** âœ¨ |
| **StructuredChat** | **å¸¦è®°å¿†çš„å¤šè½®å¯¹è¯** âœ¨ |

### 2. é€‰æ‹©åˆé€‚çš„æœç´¢å·¥å…·

| æœç´¢å·¥å…· | æˆæœ¬ | è´¨é‡ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| Wikipedia | å…è´¹ | ä¸­ | ç™¾ç§‘çŸ¥è¯† |
| Arxiv | å…è´¹ | é«˜ | å­¦æœ¯è®ºæ–‡ |
| DuckDuckGo | å…è´¹ | ä¸­ | é€šç”¨æœç´¢ |
| **Tavily** | **ä»˜è´¹** | **å¾ˆé«˜** | **AI Agent ä¼˜åŒ–** âœ¨ |
| **Google** | **ä»˜è´¹** | **å¾ˆé«˜** | **é«˜è´¨é‡é€šç”¨æœç´¢** âœ¨ |

### 3. ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–æ€§èƒ½

```go
// åˆ›å»º Redis ç¼“å­˜
cache, _ := cache.NewRedisCache(cache.DefaultRedisCacheConfig())

// åˆ›å»º LLM ç¼“å­˜
llmCache := cache.NewLLMCache(cache.CacheConfig{
    Enabled: true,
    TTL:     24 * time.Hour,
    Backend: cache,
})

// èŠ‚çœ 50-90% æˆæœ¬ï¼
```

### 4. ä½¿ç”¨ Prompt Hub ç®¡ç† Prompt

```go
// ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  prompt
// âŒ ä¸æ¨è
prompt := "Answer the question: {{.question}}"

// âœ… æ¨èï¼šä» Hub æ‹‰å–
prompt, _ := prompts.PullPrompt("your-org/qa-prompt")
```

---

## ğŸš€ å¼€å§‹æ„å»ºï¼

ç°åœ¨ä½ å·²ç»æŒæ¡äº† v1.6.0 çš„æ‰€æœ‰æ–°åŠŸèƒ½ï¼Œå¼€å§‹æ„å»ºä½ çš„ AI åº”ç”¨å§ï¼

**éœ€è¦å¸®åŠ©?**
- GitHub Issues
- GitHub Discussions
- æ–‡æ¡£: [docs/](./docs/)

**Happy Coding! ğŸ‰**
